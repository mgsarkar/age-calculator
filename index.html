<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Advanced Age Calculator</title>

<style>
body {
    font-family: Arial;
    min-height: 100vh;
    margin: 0;
    background: linear-gradient(-45deg, #e3f2fd, #bbdefb, #e1f5fe);
    background-size: 400% 400%;
    animation: bgMove 12s ease infinite;
    display: flex;
    justify-content: center;
    align-items: center;
}

@keyframes bgMove {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
}

.box {
    background: white;
    padding: 22px;
    width: 400px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    text-align: center;
}

button {
    margin-top: 12px;
    padding: 8px 16px;
    font-size: 15px;
    background: #2196f3;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

button:hover {
    background: #1976d2;
}
</style>
</head>

<body>

<div class="box">
    <h2>Age Calculator</h2>

    <label>Date of Birth:</label><br>
    <input type="date" id="dob"><br><br>

    <button onclick="startCalculation()">Calculate Age</button>

    <p id="ageResult"></p>
    <p id="timeResult"></p>
    <p id="birthdayResult"></p>
</div>

<script>
let timer;

function startCalculation() {
    clearInterval(timer);

    const dobValue = document.getElementById("dob").value;
    if (dobValue === "") {
        alert("Please select Date of Birth");
        return;
    }

    const birthDate = new Date(dobValue);

    function updateAge() {
        const now = new Date();

        // Years Months Days
        let years = now.getFullYear() - birthDate.getFullYear();
        let months = now.getMonth() - birthDate.getMonth();
        let days = now.getDate() - birthDate.getDate();

        if (days < 0) {
            months--;
            let pm = new Date(now.getFullYear(), now.getMonth(), 0);
            days += pm.getDate();
        }
        if (months < 0) {
            years--;
            months += 12;
        }

        document.getElementById("ageResult").innerHTML =
            "<b>Age:</b> " + years + " Years " + months + " Months " + days + " Days";

        // Total time lived
        let diffMs = now - birthDate;
        let totalSeconds = Math.floor(diffMs / 1000);
        let totalMinutes = Math.floor(totalSeconds / 60);
        let totalHours = Math.floor(totalMinutes / 60);

        document.getElementById("timeResult").innerHTML =
            "‚è±Ô∏è <b>Total Time Lived:</b><br>" +
            totalHours + " Hours | " +
            totalMinutes + " Minutes | " +
            totalSeconds + " Seconds";

        // Next Birthday
        let nextBirthday = new Date(
            now.getFullYear(),
            birthDate.getMonth(),
            birthDate.getDate()
        );

        if (nextBirthday < now) {
            nextBirthday.setFullYear(now.getFullYear() + 1);
        }

        let daysLeft = Math.ceil(
            (nextBirthday - now) / (1000 * 60 * 60 * 24)
        );

        document.getElementById("birthdayResult").innerHTML =
            "üéÇ <b>Next Birthday In:</b> " + daysLeft + " Days";
    }

    updateAge();
    timer = setInterval(updateAge, 1000); // live seconds update
}
</script>

</body>
</html>
